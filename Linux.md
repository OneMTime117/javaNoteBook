# Linux

**是在Unix系统的基础上修改研发的系统，一套免费使用和自由传播的类Unix操作系统**

## Unix：

​	是最早期的多用户、多任务操作系统，但是该系统需要与硬件配套使用，且为商业软件，需要付费使用

cmd：命令提示符，为windows系统操作DOS系统的窗口

dos：磁盘操作系统，用于个人PC上,它是一个单用户单任务的操作系统

BIOS:基本输入输出系统，用于提供计算机最底层、最直接的硬件设置和控制

Android：基于Linux的自由及开放源代码的操作系统，主要使用于移动设备

ios/Mac os X：类Unix的商业操作系统

windows：窗口可视化操作系统，使用GUI来操作计算机

GUI：图形用户界面

## 操作系统版本：

### 1、桌面操作系统：

桌面操作系统主要用于个人计算机上，从软件上分为两大类：

Unix操作系统、windows操作系统

硬件架构分为：

PC版、MAC版

　　1、Unix和类Unix操作系统：Mac OS X，Linux发行版（如Debian，Ubuntu，Linux Mint，openSUSE，Fedora等）；

　　2、微软公司Windows操作系统 ：Windows XP，Windows Vista，Windows 7，Windows 8等。

### 2、服务器操作系统：

服务器操作系统一般指的是安装在大型计算机上的操作系统，如web服务器、应用服务器、数据库服务器

分为三大系列：

　    1、Unix系列：SUNSolaris，IBM-AIX，HP-UX，FreeBSD等；

　　2、Linux系列：Red Hat Linux，CentOS，Debian，Ubuntu等；

　　3、Windows系列：Windows Server 2003，Windows Server 2008，Windows Server 2008 R2等。

### 3、嵌入式操作系统：

应用在嵌入式系统的操作系统，广泛用于生活中：数码相机、手机、平板电脑、家用电器、医疗设备、交通灯、航空电子设备和工厂控制设备等

操作系统有：嵌入式Linux、Windows Embedded、VxWorks等、手机平板端：Android、iOS

**嵌入式计算机系统：**

是一种“完全嵌入受控器件内部，为特定应用而设计的专用计算机系统”；

为控制、监视或辅助设备、机器或用于工厂运作的设备。与通用计算机系统（不是操作系统，如pc）嵌入式系统通常执行的是带有特定要求的预先定义的任务。嵌入式系统通常执行的是带有特定要求的预先定义的任务，通常进行大量生产，所以单个的成本节约，能够随着产量进行成百上千的放大

**计算机系统：**
指用于数据库管理的计算机硬软件及网络系统，由计算机硬件和软件组成，从而使用进行计算

# 1、Linux服务器操作系统：

### Linux发行版：

​		就Linux的本质来说，它只是操作系统的核心，负责控制硬件、管理文件系统、程序进程等，并不给用户提供各种工具和应用软件。所谓工欲善其事，被必先利其器，一套在优秀的操作系统核心，若没有强大的应用软件可以使用，如C/C++编译器、C/C++库、系统管理工具、网络工具、办公软件、多媒体软件、绘图软件等，也无法发挥它强大的功能，用户也无法仅仅使用这个系统核心进行工作，因此人们以Linux内核为中心，再集成搭配各种各样的系统管理软件或应用工具软件组成一套完整的操作系统，如此的组合便称为Linux发行版。

### CentOS发行版：

1、CentOS-7 启动时有两个启动项，前一个为正常启动，后一个为修复模式（当CentOS有问题，不能正常启动时使用）

2、网卡配置操作

cd  /etc/sysconfig/network-scripts/   转到该文件夹（网卡配置文件目录）

ls     获取所有文件列表（网卡配置文件列表）

ip  addr 获取网卡配置信息

systemctl restart network    重启网络服务（用于修改网卡配置后执行，使修改生效）

dhclient      自动获取ip（网卡配置为ip动态分配DHCP） 

查看防火墙状态：systemctl status firewalld.service

​				关闭：systemctl stop firewalld		
​				开启：systemctl start firewalld
​				开机自动关闭：systemctl disable firewalld
​				开机自动启动：systemctl enable firewalld

# 2、基本操作

## 1、Linux入门

### 1.1、Linux系统优点：

开源、安全、高效、**稳定、处理高并发性能优秀**（区别于window server）

### 1.2、GNU计划（人机交互）：

在计算机硬件基础上，添加操作系统内核；然后提供使用操作系统内核的shell程序；最后通过软件实现对shell程序的使用

### 1.3、虚拟机网络搭建：

**虚拟机的三种网络连接：**

- 桥连接：会占用当前本机所在网段的IP地址，并且可以和其他主机的互相通讯（ 因此需要对虚拟机中的网卡进行配置，保证其IP与主机IP在同一网段，使用同一网关；**并且桥接模式需要使用有线网卡，才能访问外网**）
- NAT（网络地址转换）模式：为虚拟机单独指定一个非本机网段IP地址，不会占用当前本机所在网段的IP地址，但是只能单向访问其他主机（Virtual Box无法进行主机到虚拟机的访问；VMware可以本地主机到虚拟机的访问）
- 主机模式：虚拟机是一个独立的主机，不能访问外网；只能和本机进行相互通讯（两者通讯是使用主机的额外虚拟网卡，因此虚拟机ping的主机IP，应该为其虚拟网卡的ip）

**因为为了保证远程访问，且可以访问外网，应该使用桥连接(无线网卡，只能使用nat模式访问外网)**

### 1.4、CentOS7图形化界面：

- 终端窗口:

  Linux终端的复制粘贴：

  -   复制命令：Ctrl + Shift + C  组合键.

  -   粘贴命令：Ctrl + Shift + V  组合键.

### 1.5、vmTools使用：

VMware虚拟机提供工具，来方便Linux系统的基本操作：

- 实现文档复制粘贴
- 实现文件夹共享

## 2、Linux目录结构

- 根目录：  /             （window会根据盘符，分为多个根目录）

- 通过根目录，使用树型结构进行展开，定义其他子目录及文件
- Linux中，一切皆文件；Linux将所有内容都以文件形式保存管理，包括文件、目录、硬件设备、网络通讯

**根目录下，默认子目录作用与特点：**

- /bin         Binary，用于存放常用命令
- /sbin       SuperUser Binary，用于存放系统管理员权限（Root）使用的程序
- /home    存放每个普通用户的主目录，并且目录名为该用户名
- /root       系统管理员主目录
- /lib           系统所需要的所有动态连接库，几乎所有Linux程序都会用到
- /etc          所有系统管理所需要的配置文件
- /usr          存放系统程序的安装文件
- /boot        存放启动Linux时的核心文件
- /proc        系统内存映射，是一个虚拟目录
- /srv           service，存放服务启动后需要读取的数据
- /sys          系统文件
- /tmp         存放临时文件
- /dev          设备目录，将所有设备以文件形式进行存储（类似于window设备管理器）
- /media      自动挂载目录，当识别外部设备（U盘、光驱），则将在该目录下临时挂载文件
- /mnt          手动挂载目录，用于给用户手动挂载
- /opt            存放软件安装包
- /usr/local   存放非自代软件的安装文件
- /var             用于存放不断变化的文件，如日志文件
- /selinux      security-enhanced Linux，存放安全系统

**注意：**

- **Linux默认目录已经规划好了存放内容，因此在使用时应该严格遵守**

- **当用户登入后，默认进入当前用户的家目录；如root用户，进入/root**

## 3、Linux远程操作

Linux远程操作一般包括：文件上传下载和终端访问

**如果进行远程访问，则需要Linux已启动SSHD服务，该服务用于监听22端口，用于创建SSH连接**

- Xshell5:

  用于进行SSH协议的远程登录会话，SSH为安全协议，使用非对称加密方式连接，需要双方安装openssh客户端和服务端，并保证服务端启动ssh服务

  - 可以通过设置快捷键来实现Ctrl C、Ctrl X、Ctrl V，来复制粘贴剪切

- Xftp5：

  基于windows平台的SFTP\FTP软件，进行windows与Linux直接的文件传输

  SFTP是基于SSH安全连接的基础上实现操作，因此默认端口为22；FTP默认端口为21；一般情况下，Linux服务器只暴露22端口，进行远程访问，即使用SFTP

  **Xftp5默认使用系统编码，因此在连接选项中，需要选择使用utf-8**

  **默认新创建用户没有FTP权限，只能使用ROOT**

## 4、Linux开机、重启、用户切换和注销

- **关机和重启**

  - shutdown

    | 命令行            | 作用            |
    | ----------------- | --------------- |
    | shutdown -h now   | 立即关机        |
    | shutdown -h 20:20 | 在今天20:20关机 |
    | shutdown -h +10   | 10分钟后关机    |
    | shutdown -r now   | 立即重启        |
    | shutdown -r +10   | 10分钟后重启    |

  - halt

    直接使用，没有参数，等同于shutdown -h now

  - reboot

    直接使用，没有参数，等同于shutdown -r now


  ​	一般情况下，Linux基本不需要关机、重启；但如果需要关机时，应该执行syn指令，将内存数据同步到磁盘中，防止未写入的数据丢失

- **用户切换和注销**

  ​	尽量避免使用Root账号进行登录，因为Root账号权限太大，避免意外执行某些危险操作；当即使需要Root权限时，也可以在登录后进行用户切换

  **su -l 用户名             切换用户** ；-l（login）可以省略，用户名省略时，默认为root（root切换其他用户时，不需要输入密码）

  logout		注销用户，退出登录

  exit                     返回上一个用户

## 5、用户、组、权限管理

​	Linux在用户创建设计上，每个用户都有自己对应的**一个或多个组**和**一个家目录**

### 5.1、用户

- **添加用户**

  **useradd**	[选项]	yh    指定一个yh用户，并新建一个组以及对于家目录 /home/yh

  -  -d	/home/hh	手动指定家目录（**必须保证该目录之前不存在，因为每个用户的家目录是唯一的**）

    -  -g	用户组	手动指定用户组（默认会新建与用户名同名的组）

- **指定用户密码**

  **passwd**   yh   指定/修改yh用户密码（如果不进行密码指定，则无法正常登录）

- **删除用户**

  **userde**l	[选项]	yh	删除用户（用户删除了，其家目录依然存在）

  - -r	删除用户以及家目录

  一般情况下，删除用户应该保留家目录

- **查询用户信息**

  **id**    yh    查询用户信息：uid（用户id）、gid（组id）、组（组名称）

  **who**   am   i       查询当前终端登录用户名

### 5.2、组

- **创建组**

  **groupadd**    yyy

- **修改用户所在组（主要组）**

  **usermod**  -g     组    用户

- **删除组**

  **groupdel**    yyy （如果存在用户使用了yyy组，则无法直接删除）

### 5.3、用户和组的配置

- 用户配置文件

  **/etc/passwd文件**：用户配置文件，用户名：口令：用户ID：组ID：注解描述：家目录：使用的shell解释器

  **/etc/shadow文件**：口令配置文件，用户名：加密口令：密码最后一次修改实际：最小时间间隔：最大时间间隔：警告时间：不活动时间：失效时间：标志

- 组配置文件

  **/etc/group文件**：组配置文件，组名：口令：组ID：组内用户列表

### 5.4、Linux文件权限管理

在Linux系统中，所有文件都有三个属性：所有者、所在组、其他组（系统中除所有者外，其他用户的组都是该文件的其他组）

**1、查看文件的所有者和所在组**

通过 ls -l	可以查询文件的详细信息，也就包括**文件所有者、所在组**，比如：

```shell
-rw-------. 1 root root 1572 12月  1 14:48 anaconda-ks.cfg
-rw-r--r--. 1 root root 1620 12月  1 14:52 initial-setup-ks.cfg
drwxr-xr-x. 2 root root    6 2月  25 21:47 yh
drwxr-xr-x. 2 root root    6 12月  1 15:48 公共
drwxr-xr-x. 2 root root    6 12月  1 15:48 模板
```

文件详细信息按顺序为：权限、连接数（1，表示为硬连接，为一个文件；多个则表示为一个目录）、所有者、所在组、文件大小、创建时间、文件名 

**2、修改文件的所有者和所在组**

**chown**	yh	apple.txt	修改apple.txt文件的所有者为yh（change owner）

**当一个用户创建一个文件后，该文件的所有者和所在组就是该用户和用户所在组，但在修改文件所有者用户后，其所在组并不会随之改变**

**chgrp**	root	apple.txt	修改apple.txt文件的所在组为root（change  group）

chown   yh：root apple.txt	修改文件所有者和所在组（使用更多，因此一般情况下，所有者的组就是所在组，因此修改所有者时，需要一起改变）

- -R ：对于目录，可以进行递归操作，批量修改目录下所有文件权限的使用者或所在组

  chown    -R    yh：root  home

**3、文件权限解析**

文件权限字符串通过10位字符来进行表示

第一位：表示文件类型，-普通文件、d目录、l 软连接、 c 字符设备（键盘鼠标） b块文件（硬盘）

第二、三、四位：表示文件所有者的权限：第一个为r/- 表示有无读权限；第二个为w/-表示有无写权限；第三个为

x/-表示是否文件是否能被执行，目录是否允许进入

第五、六、七位：表示文件所在组的权限，同理

第八、九、十位：表示文件其他组的权限，同理

**4、文件权限修改**

- chmod指令   执行操作	指定文件	修改指定文件的权限

  - u、g、o、a表示需要修改的权限属性：

  u：所有者 user

  g：所在组 group

  o：其他组 other	 

  a：三个权限属性总和 all

  **修改方式一：**

  通过+、-、= 配合r、w、x,来表示权限增删修

  chmod  u=rwx    hello.java  表示给hello.java文件的所有者提供读、写、执行权限

  chmod  g+r	hello.java 表示给hello.java文件的所在组添读权限

  chomd a-w	hello.java 表示给hello.java文件的其他组取消写权限

  chmod u=rw-,g=rw-,o=--x hello.java  通过逗号，可以对三个属性同时修改

  **修改方式二：**

  通过数字来表示u、g、o三个属性的实际值（这种方式更加方便）

  r 表示4、w表示2、x表示1，因此：

  rwx=7、rw-=6、r-x=5、r--=4、-wx=3、-w-=2、--x=1、---=0

  chmod 764 hello.java  表示所有者有读写执行权限、所在组有读写权限、其他组有读权限

## 6、Linux系统运行级别

Linux在设计上，提供了7个级别：

| 运行级别 |                                        |
| -------- | -------------------------------------- |
| 0        | 关机（相当于halt指令）                 |
| 1        | 单用户（不需要密码直接登录）           |
| 2        | 多用户无网络（类似于window的安全模式） |
| 3        | 多用户有网络（最常使用）               |
| 4        | 保留（没有详细定义，一般不使用）       |
| 5        | 图形界面                               |
| 6        | 重启（相当于reboot指令）               |

**对于单用户运行级别的使用：**

​	当我们直接使用主机重启时，在加载Linux内核前，修改其运行级别为1，此时就可以进入单用户模式运行，从而实现**root密码找回**（远程登录方式重启时，无法进入Linux内核加载前的界面，因此也就保证了单用户运行级别的安全性，即使用者必须在主机上操作）

### 6.1、设置系统运行级别

**init   Num        切换当前运行级别**

- centOS6中，是提供**/etc/inittab文件**进行默认运行级别的配置；但centOS7中，则使用systemctl命令行形式：

  - systemctl    get-default                       获取当前系统默认运行级别

  - systemctl     set-default       grahical.target(multi-user.target)       设置当前系统默认运行级别为5（3）              

```
0 shutdown.target
1 emergency.target
2 rescure.target
3 multi-user.target
5 graphical.target
```

## 7、vi/vim编辑器

- 所有的Linux系统都内置vi文本编辑器，类似于windows中的记事本；都具有程序编辑能力
- Vim是Vi的增强版，可以通过字体颜色来分区语法结构，方便程序编程。

**vim   xxx             使用vim进行当前文件编辑**

### 7.1、vi/vim三种编辑模式

- 正常模式：

  ​	当使用vim打开一个文档后，就直接进行正常模式（默认），可以通过键盘来移动光标，并可以使用快捷键进行复制、粘贴、删除字符和整行删除

- 插入模式：

  ​	通过输入i/I、o/O、a/A进入插入模式，此时就可以直接通过键盘进行文本编辑；当编辑完成后，通过ESC退出插入模式

- 命令行模式：

  ​	输入：进入命令行模式，此时就可以通过输入命令行，来实现显示行号、光标快速移动（第一行、最后一行）、保存、退出等操作；每当执行一次命令行操作后，就会自动退出进入正常模式

### 7.2、vi/vim常用快捷键和使用场景

- 正常模式：

  | 快捷键    | 作用                                                         |
  | --------- | ------------------------------------------------------------ |
  | i/I       | 进入插入模式，并在光标前插入；在光标当前行的第一个字符前插入 |
  | o/O       | 进入插入模式，并在光标下一行新建空白行插入；上一行新建空白行 |
  | a/A       | 进入插入模式，并在光标后插入；在光标当前行的最后插入         |
  | G         | 移动光标到第一行开头                                         |
  | gg        | 移动光标到最后行结尾                                         |
  | dd        | 删除当前行；5dd：删除当前行开始的往下5行                     |
  | yy        | 拷贝当前行；5yy：拷贝当前行开始的往下5行                     |
  | p         | 将拷贝的数据插入到当前行的下面                               |
  | u         | 撤销操作（CTRL+R 取消撤销）                                  |
  | ZZ        | 保存并退出                                                   |
  | /xx +回车 | 查找，之后通过n/N跳转到下一个匹配值所在节点                  |

- 命令行模式

  | 快捷键   | 作用            |
  | -------- | --------------- |
  | set nu   | 显示行号        |
  | set nonu | 不显示行号      |
  | 1        | 移动到第1行开头 |
  | w        | 保存            |
  | q        | 退出            |
  | q！      | 强制退出        |
  | wq       | 保存且退出      |

## 8、Linux常用实用指令

### 1、Linux帮助指令

​	**Linux提供帮助指令，让我们了解所以指令的使用、参数功能描述**

- man

  **man     指令**

  Linux提供一本帮助手册，它会根据指定的指令进行搜索查找，并展示详细的描述

- help

  **help     指令**

  用于**获取shlle内置指令**的帮助信息，更加简洁

- help外部命令

  **指令     -help（h）**  

  所有外部指令都提供了 -h参数，用于查询当前外部指令的帮助信息

### 2、文件目录操作指令

- **pwd指令**

  pwd             显示当前目录的绝对路径(**print work directory  打印工作路径**)

- **ls指令**

  ls		显示当前目录或文件信息（**list files  文件列表**）

  - -a		显示所有包括隐藏的文件、目录
  - -l		以列表的形式显示信息（并额外显示文件相关信息）
  - -R             recursively（递归），递归列出所有子文件

**指令参数使用时，直接在 -后面进行参数选项拼接，如 ：**

ls  -al展示当前目录下所有文件、目录,包括隐藏文件，并且以列表形式展现

- **cd指令**

  cd     /home/yh		切换目录（**change directory**）

  **常用目录表的方式：**

  - ~ 		表示用户家目录

  - .	          表示当前目录		


  - ..		表示上一级目录  ../.. 就表示上上级目录

- **mkdir指令**

  mkdir	[选项]	/home/yh		创建目录（**make directory**）

  - -p		可以创建多级目录（默认情况下，无法创建多级目录）

- **rmdir指令**

  rmdir	/home/yh		删除空目录（**remove directory**）

- **rm指令**

  rm	[选项]	/home/yh		删除一个文件或目录（**remove**），默认是无法删除目录的

  - -r		递归删除（实现非空目录的删除，但每个文件和目录的删除都会询问）

  - -f		强制删除（不询问）

  **一般情况下，直接使用rm   -rf   进行非空目录的删除**

- **touch指令**

  touch     文件名称		创建一个空文件（可以指定绝对路径，但必须保证目录存在）

  通过指定多个文件名称，可以实现一次性创建多个文件

  文件重复时，会自动覆盖

- **cp指令**

  cp	[选项]	文件	/home/yh		拷贝文件到指定目录下、或指定文件实现复制重命名（**copy**）

  - -r	递归拷贝所有文件以及目录

  \cp	xxx	对于重名文件强制覆盖

- **mv指令**

  mv	旧文件路径	新文件路径	移动文件（**move file**），将原文件移动到新文件目录下，并进行重命名

  - 当新文件路径不指定文件名时，则单纯进行文件移动，如：

    mv	/home/yh/test.txt	/home/hhh			将test.txt移动到/home/hhh目录下

  - 当旧文件路径的目录和新文件路径目录相同时，则单纯进行文件重命名，如：

    mv	/home/yh/test.txt	/home/yh/test2.txt		将test.txt重命名为test2.txt

- **cat指令**

  cat	/home/test.txt		连接文件并打印（**concatenate**）

  -n		显示行号

  cat指令直接使用，会直接在所有内容进行打印，因此无法很好了逐行查看，可以通过**| more（管道命令**）来实现：**（本质上就是将cat指令查询的所有内容，交个more指令处理，从而实现分页）**

  cat	/home/test.txt	| more		但是无法向上翻页

- **more指令**

  more	/home/test.txt		类似于cat，但会以全屏方式一页一页进行展示

  **全屏模式快捷键：**

  空格下一页；b上一页；Enter下一行；q退出全屏模式（当展示完后，自动退出全屏模式）；v 使用vim进行文本编辑

- **less指令**

  less	/home/test.txt		类似于more，但是不会直接全屏加载所有内容，然后进行分页查看；而是分屏每下一页，读取一次数据进行展示，因此效率非常高，适合查看大型文件（日志文件）

  **分屏模式快捷键：**

  空格下一页；b上一页；上下方向键跳转行，q退出分屏模式（不会自动退出）；v 使用vim进行文本编辑

**cat、more、less都能够在分页查询状态下，使用/ xxx,进行字符串查找**

- **》指令和   》》指令**

  xxxxx    》   hello.java 

  前者是将内容覆盖写入到指定文件中；后者是将内容追加到指定文件的末尾

  可以搭配一些信息查询指令，将查询到的数据写入指定文件中，如ls、cat、echo:

  ls  -l  》》hello.java    将当前目录列表信息追加到hello.java文件的末尾

- **echo指令**

  echo   xxxx   用于控制台输出，一般情况下用于输出变量,如：

  echo $PATH   输出系统环境变量

- **head指令**

  head   hello.java   用于输出指定文件的前10行内容

  -n  5   指定输出前5行数据

- **tail指令**

  tail  hello.java  用于输出指定文件的后10行内容

  -n 5  指定输出后5行

  -f     实时追踪文档所有更新，一般用于实时监控日志文件

- **ln指令**

  - ln  /root/hello.java    hello.java        创建当前路径下的hello.java硬链接（**Link**），引向/root/hello.java；用于实现一个文件存在多个有效路径名。

  硬链接操作元素只能是文件，源文件自身就是一个硬链接，当所有硬链接被删除时，该文件才会被删除。**并且多个硬链接共用同一个文件，相对于复制减少磁盘占用，避免文件被误删除**

  - ln -s  /root/hello.java    hello.java       创建将当前路径下的hello.java软连接（类似于windows的快捷方式），引向/root/hello.java

  软连接操作元素可以是文件或者目录，当源文件删除后，软连接文件还是会一直存在，只是指向一个无效链接，它们是不同的两个文件，只是软连接文件存储了源文件的真实路径；在操作软连接文件时，当前路径为软连接文件路径

- **history指令**

  history    用于获取当前系统执行过的所有指令

  history   10   获取后10行历史指令

  ！10    执行第10行历史指令

### 3、时间日期指令

- **date指令**

  date           显示当前时间

  通过 +  来设置时间显示格式，如显示日期

  date  +%Y:%m:%d   :只是自定义的分割符，可以随意代替或省略

  | 参数 | 描述 |
  | ---- | ---- |
  | %Y   | 年   |
  | %m   | 月   |
  | %d   | 日   |
  | %H   | 时   |
  | %M   | 分   |
  | %S   | 秒   |

  date -s  时间字符串            设置当前系统时间,如 date  -s   “2018-10-19 11:22:22" 

- **cal指令**

  cal        显示当前日历图表（**calendar**）

  cal     2020   显示2020年12个月的日历图表

### 4、搜索查询指令

- **find指令**

  find [搜索范围]   [选项]   在指令目录下向下递归变量所有子目录，找到满足条件的文件或目录显示在终端

  常用选项：

  - -name xxx    通过文件名查找

    find /home   -name hello        在/home目录下寻找文件名为hello的文件或目录（打印其绝对路径）

  - -user  xxx     通过文件所属用户名查找

    find  /home    -user   root     查找属于root用户的文件、目录

  - -size   xxx     通过文件大小查找

    find  /home -size  +20M      查找大于20M的文件，同理-20M 为小于20M； 20M 为等于20M

- **locate指令**

  locate也是文件查找指令，但是相对于find指令的速度更快，原因是：Linux系统会为系统所有文件和目录建立一个locate数据库，用于通过**文件名快速查找指定文件路径**，无需对系统文件进行遍历，速度较快，但是需要管理员定期更新locate数据库

  - updatedb          在使用locate指定前，需要先创建locate数据库
  - locate    hello    在linux中查询所有文件路径中含有hello关键字的文件

- **grep指令和管道符号|**

  **Globally search a Regular Expression and Print，全局搜索正则表达式并打印**

  grep   [选项]  查找内容  源文件    过滤查找，在指定文件中查询相应内容（会显示当前匹配内容行的所有数据）

  - grep -n   helloword   hello.java   过滤查找，并显示查询内容所在行数
  - grep  -i    helloword  hello.java    过滤查找，并忽略查询内容的大小写，进行匹配

  **管道符号：|，用于将前面指令要打印的数据交给后面指令处理**

  grep指令在使用时，一般搭配管道符号，对指定数据进行过滤查找：

  - ls -l    |  grep -n    hello         查找当前目录列表中含有hello的部分行内容

### 5、压缩和解压缩指令

- **gzip/gunzip指令**

  gzip	hello.java	压缩文件，将文件压缩为*.gz压缩文件（在源文件名.gz后缀）

  gunzip	hello.java.gz	解压缩文件，解压*.gz压缩文件

  **它们进行文件压缩、解压缩时，并不会保留源文件；并且不能对目录进行操作**

- **zip/unzip指令**

  zip	[选项]	hello.zip	hello	压缩文件或目录，压缩为hello.zip压缩文件(zip必须手动设置生成的zip文件名)	

  - -r	对于目录，进行递归压缩（必须有，否则只会压缩hello该目录）

  unzip	[选项]	hello.zip   解压*.zip文件

  - -d    指定解压缩后，文件的存放目录

  - -n    对相同文件不进行覆盖
  - -o    对相同文件进行覆盖

- **tar指令**

  tar	[选项]	/home	对指定文件进行打包、压缩，或者解压、解包（tape archive磁带归档）

  - -c	生成*.tar打包文件，即打包指定文件或目录
  - -v        显示执行信息
  - -f         指定压缩后的文件或解压的文件（**必需指定**）
  - -z         搭配-c：打包同时进行gzip压缩，生成*.tar.gz；搭配-x：解包前，先进行gzip解压
  - -x         解包.tar文件

一般情况下，打包和压缩同时进r行，因此一般都是操作的*.tar.gz文件：

打包压缩文件

​	tar	-cvfz	myhome.tar.gz	/home

解压、解包tar.gz：

​	tar	-xvfz	myhome.tar.gz

​	**在整个解压指令结尾，可以添加	-C	/home来指定解压后，文件存放的目录（需要保证该目录存在）**

- **.tar、.zip、.gz三种后缀文件的区别：**

  - 磁盘归档文件，实现将多个文件（目录）打包到单个文件中，并提高在磁盘的中高效写入

  tar，tape archive磁带归档，就是Linux中的一种磁盘归档文件，实现将目录的打包为单个文件。

  zip和gz（gzip）是针对于文件压缩，实现减少文件的磁盘占用。但前者zip本身也实现的磁盘归档的功能，而gz只是单纯的文件压缩，因此只能操作单个文件。

## 9、Linux定时任务调度

任务调度：系统在某个特定时间点执行特定命令或程序

任务调度分类：

1. 系统工作，如系统病毒扫描
2. 个别用户工作，如mysql数据库备份

Linux所有任务调度都是通过crond服务来控制，并且默认是开启启动的，每一分钟会检查一次Linux所有cron调度文件中需要执行的命令。

- **crontab指令**

  crontab  [-u user] [选项]	针对于个别用户工作，进行定时任务调度操作（crond table）

  - -e	编辑crontab文件内容
  - -l         显示crontab文件内容
  - -r         删除当前用户的crontab文件

  [-u  user]    用于指定某个用户的crontab服务，可以省略，表示操作的是当前用户

  crontab操作的crontab文件会自动保存到**/var/spool/cron目录**下，文件名和所操作的用户同名。我们可以直接操作该文件来设置任务，但是并不会保存后就生效，而是需要重启crond任务服务

  系统任务调度的crontab文件为**/etc/crontab**,前四行为用于配置crond任务运行的环境变量，后面添加需要的系统任务（定时重启等）

- **crond服务操作**

  crontab指令的实现依赖于Linux系统中的crond任务服务，而作为服务就可以进行相应的stop、start、restart和配置文件重载，如：

  systemctl restart crond   重启crond服务

- **cron表达式**

  在crontab文件中，通过cron表达式+command 来实现配置定时任务，其中cron表达式就是用于表示定时策略:

  cron表达式由5个占位符组成：

  ```java
  * * * * *		分别表示分钟（0-59）、小时（0-23）、日期（1-31）、月份（1-12）、星期（0-6,0为星期天）
  ```

**特殊符号含义：**

| 符号 | 含义             |
| ---- | ---------------- |
| *    | 表示任何时间     |
| ，   | 表示不连续时间   |
| -    | 表示连续时间，   |
| */n  | 每隔多久执行一次 |

实例：

```java
* * * * * command	每分钟执行
3,15 * * * * command	每小时的3分、15分执行
3,15 8-11 * * * command	每天8点到11点钟的3分、15分执行
3,15 8-11 * * 1 command	每周1的8点到11点钟的3分、15分执行
3,15 8-11 */2  *  * command 每隔两天的8点到11点钟的3分、15分执行
```

## 10、磁盘分区、挂载

### 10.1、磁盘分区

- mbr分区：
  - 最多支持四个主分区
  - 系统只能安装在主分区中
  - 扩展分区要占一个主分区，用于划分成多个逻辑分区
  - MBR一个主分区最大只支持2TB，但拥有较好的兼容性

- gtp分区
  - 支持无限多个主分区（但会被操作系统限制，windows最多128个分区）
  - 分区最大支持18EB的容器（1024*1024GB）
  - windows7后支持gtp

### 10.2、硬盘挂载

1、虚拟机添加硬盘（物理机）

2、磁盘分区

​	**fdisk**	/dev/sdb1           给/dev下的磁盘硬件sdb1进行磁盘分区

会进入到一个引导页面，一般步骤为 n：新增分区	p：选择为主分区类型	回车：默认使用全部容量	w：将进行分区并退出

3、格式化磁盘设备(make file system)

​	**mkfs**	-t	ext4	/dev/sdb1           给/dev下的磁盘硬件sdb1格式化为 ext4（文件系统类型，扩展文件系统）

4、创建挂载目录、手动挂载

​	mkdir	/mnt/newDisk	新建一个用于挂载磁盘的目录（一般在/mnt目录下创建）

​	**mount**	/dev/sdb1	/mnt/newDisk	将以格式化分区好的磁盘，挂载到指定目录下，从而进行使用

- **umount**	目录/设备路径	用于取消指定挂载目录或设备的挂载

5、可以设置成自动永久挂载，在linux系统启动时，和系统盘类似，自动挂载

​	在/etc/fstab配置文件，添加相应信息

**注意：对于U盘，不需要分区，可以直接进行挂载**

### 10.3、磁盘信息指令

- **df指令**

  df	查询系统磁盘使用情况（disk free）

  -h	适合人类可读的格式（human readable）

- **du指令**

  du	/home	查询指定目录/文件磁盘占用大小（disk ），目录会自动进行递归操作

  -h	适合人类可读的格式（human readable）

  -a	查询所有文件

  -s	目录不进行递归操作（文件则不能使用）

## 11、个数统计

- **wc指令**

  wc	helloworld.java	统计指定内容的字符数、字节数、行数

  可以搭配|管道符号使用	

  -c	只显示字节数

  -w	只显示单词数

  -l	只显示行数

- 统计字符个数：

```shell
wc	-c	helloworld.java
```

- 统计文件数：^-       表示每行开头第一个字符为-

```java
ls -l |grep ^-	|wc -l
```

- 统计目录数：^d	表示每行开头第一个字符为d

```shell
ls -l |grep ^d	|wc -l
```

# 3、进程管理

# 4、开发环境搭建

# 5、shell脚本

# 6、系统调优

# 7、深入理解Linux内核

**1、指令别名**

**2、ctrlC\ctrlD\ctrlV\ctrlZ\table**