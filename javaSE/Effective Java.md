# Effective Java（高效java）

## 1、创建与销毁对象

### 1.1、使用静态工厂方法代替构造器

- **静态工厂方法相对于构造器的优势：**

  - 构造器没有方法名，只能通过参数列表进行区分；而静态工厂方法可以通过方法名准确有效的表达该方法所返回的对象类型

  - 可以在静态工厂方法内部添加额外逻辑：

    - **保证对象的单例**，实现单个对象的共享
    - **使返回的对象实例向上转型**，实现面向接口编程，有效减少开发者学习API的数量

    - **通过参数列表，返回同一父类的各种子实现类**
    - 通过反射来实例化，在工厂中实现类的实例化与代码的解耦，通过字面量来实例化对象，从而在编写静态工厂方法时，并不需要实现类存在（JDBC中，DriverManager.getConnection（）就使用了这个）

- **静态工厂方法名的常用规范，基于JDK8中API的命名规范：**

  from：类型转换方法，通过单个参数获取对象实例

  of：聚合方法，将多个参数聚合为一个对象

  valueOf：类型转换方法，类似于from，一般用于和java数据类型有关的方法

  instance、getInstance：通过无参或有参方式获取当前对象实例

  create、newInstance：通过无参或有参方式获取当前对象实例，并保证每次方法调用都是一个新对象

  XXX/getXXX：获取指定对象类型实例

  newXXX：获取指定对象类型实例，并保证每次方法调用都是一个新对象

- **总结：**

  在一般情况下，优先考虑公共构造器，当对象实例构建满足静态工厂方法的某些优点时，再考虑使用静态工厂方法

### 1.2、遇到多个构造器参数时，考虑使用构造器

